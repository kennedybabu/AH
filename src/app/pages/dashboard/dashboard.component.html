<!-- start page title -->
<app-pagetitle title="Dashboard" [breadcrumbItems]="breadCrumbItems"></app-pagetitle>
<!-- end page title -->

<div>
    <div class="card">
        <div class="card-body p-4">
            <div class="row">
                <div>
                    <form [formGroup]="searchForm" class="col-lg-12 d-flex gap-1">
                        <div class="row">
                            <div class="col-xl col-md-6">
                                <label for="example-datetime-local-input" class="form-label">Start Date</label>
                                <input class="form-control" type="date" placeholder="Start" formControlName="startDate"
                                    id="example-datetime-local-input">
                            </div>
                            <div class="col-xl-2 col-md-6">
                                <label for="example-datetime-local-input" class="form-label">End Date</label>
                                <input class="form-control" type="date" placeholder="End" formControlName="endDate"
                                    id="example-datetime-local-input">
                            </div>
                            <div class="col-xl col-md-6">
                                <label for="county">County</label>
                                <ng-select id="county"  [items]="counties" [multiple]="true" (change)="subCounties($event)"  [virtualScroll]="true" bindLabel="name" bindValue="county_id"
                                placeholder="County" formControlName="countyId">
                                </ng-select> 
                            </div>
                            <div class="col-xl col-md-6">
                                <label for="county">Sub County</label>
                                <ng-select id="county"  [items]="sub_counties" [multiple]="true" (change)="getWards($event)"  [virtualScroll]="true" bindLabel="name" bindValue="subCountyId"
                                placeholder="Sub County" formControlName="subCountyId">
                                </ng-select> 
                            </div>
                            <div class="col-xl col-md-6">
                                <label for="county">Ward</label>
                                <ng-select id="county"  (change)="filterGroups($event)" [items]="wards" [multiple]="true"  [virtualScroll]="true" bindLabel="name" bindValue="wardId"
                                placeholder="Ward" formControlName="wardId">
                                </ng-select> 
                            </div>  
                            <div class="col-xl col-md-6">
                                <label for="county">Group</label>
                                <ng-select id="county"  [items]="groups" [multiple]="true"  [virtualScroll]="true" bindLabel="group_name" bindValue="group_id"
                                placeholder="Group" formControlName="groupId">
                                </ng-select> 
                            </div>   
                            <div class="col-xl col-md-6 d-flex align-items-end">
                                <button (click)="search()" style="color: #e9ecef;margin-bottom: 2px;" class="btn w-100 secondary-color btn-block" type="submit">search</button>
                            </div>  
                        </div>
                    </form>             
                </div>
            </div>
        </div>
    </div>
</div> 

<div class="row">
    <div class="col-xl-3 col-md-6">
        <!-- card -->
        <div class="card card-h-100">
            <!-- card body -->
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-6">
                        <span class="text-muted mb-3 lh-1 d-block text-truncate">ToT</span>
                        <h4 class="mb-3">
                            <span [countUp]="ToTsNo" class="counter-value"></span>
                        </h4>
                    </div>

                    <div class="col-6">
                        <!-- <apx-chart class="apex-charts" dir="ltr" [series]="walletlineChart.series" [chart]="walletlineChart.chart" [colors]="walletlineChart.colors" [stroke]="walletlineChart.stroke" [tooltip]="walletlineChart.tooltip">
                        </apx-chart> -->
                    </div>
                </div>
                <div class="text-nowrap">
                    <span class="badge bg-success-subtle text-success">+$20.9k</span>
                    <span class="ms-1 text-muted font-size-13">Since last week</span>
                </div>
            </div><!-- end card body -->
        </div><!-- end card -->
    </div><!-- end col -->

    <div class="col-xl-3 col-md-6">
        <!-- card -->
        <div class="card card-h-100">
            <!-- card body -->
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-6">
                        <span class="text-muted mb-3 lh-1 d-block text-truncate">Farmers</span>
                        <h4 class="mb-3">
                            <span [countUp]="totalMembers" class="counter-value"></span>
                        </h4>
                    </div>
                    <div class="col-6">
                        <!-- <apx-chart class="apex-charts" dir="ltr" [series]="tradeslineChart.series" [chart]="tradeslineChart.chart" [colors]="tradeslineChart.colors" [stroke]="tradeslineChart.stroke" [tooltip]="tradeslineChart.tooltip">
                        </apx-chart> -->
                    </div>
                </div>
                <div class="text-nowrap">
                    <span class="badge bg-danger-subtle text-danger">Groups</span>
                    <span class="ms-1 text-muted font-size-13">Since last week</span>
                </div>
            </div><!-- end card body -->
        </div><!-- end card -->
    </div><!-- end col-->

    <div class="col-xl-3 col-md-6">
        <!-- card -->
        <div class="card card-h-100">
            <!-- card body -->
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-6">
                        <span class="text-muted mb-3 lh-1 d-block text-truncate">Groups</span>
                        <h4 class="mb-3">
                            <span [countUp]="totalGroups" class="counter-value"></span>
                        </h4>
                    </div>
                    <div class="col-6">
                        <!-- <apx-chart class="apex-charts" dir="ltr" [series]="investedlineChart.series" [chart]="investedlineChart.chart" [colors]="investedlineChart.colors" [stroke]="investedlineChart.stroke" [tooltip]="investedlineChart.tooltip">
                        </apx-chart> -->
                    </div>
                </div>
                <div class="text-nowrap">
                    <span class="badge bg-success-subtle text-success">+ $2.8k</span>
                    <span class="ms-1 text-muted font-size-13">Since last week</span>
                </div>
            </div><!-- end card body -->
        </div><!-- end card -->
    </div><!-- end col -->

    <div class="col-xl-3 col-md-6">
        <!-- card -->
        <div class="card card-h-100">
            <!-- card body -->
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-6">
                        <span class="text-muted mb-3 lh-1 d-block text-truncate">Total Income</span>
                        <h4 class="mb-3">
                            <span [countUp]="12.37" [options]="option" class="counter-value"></span>%
                        </h4>
                    </div>
                    <div class="col-6">
                        <!-- <apx-chart class="apex-charts" dir="ltr" [series]="profitlineChart.series" [chart]="profitlineChart.chart" [colors]="profitlineChart.colors" [stroke]="profitlineChart.stroke" [tooltip]="profitlineChart.tooltip">
                        </apx-chart> -->
                    </div>
                </div>
                <div class="text-nowrap">
                    <span class="badge bg-success-subtle text-success">+2.95%</span>
                    <span class="ms-1 text-muted font-size-13">Since last week</span>
                </div>
            </div><!-- end card body -->
        </div><!-- end card -->
    </div><!-- end col -->
</div>

<div class="row">
    <div class="col-xl-5">
        <!-- card -->
        <div class="card card-h-100">
            <!-- card body -->
            <div class="card-body">
                <div class="d-flex flex-wrap align-items-center mb-4">
                    <h5 class="card-title me-2">Wallet Balance</h5>
                    <div class="ms-auto">
                        <div>
                            <button type="button" class="btn btn-soft-secondary btn-sm">
                                ALL
                            </button>
                            <button type="button" class="btn btn-soft-primary btn-sm ms-1">
                                1M
                            </button>
                            <button type="button" class="btn btn-soft-secondary btn-sm ms-1">
                                6M
                            </button>
                            <button type="button" class="btn btn-soft-secondary btn-sm ms-1">
                                1Y
                            </button>
                        </div>
                    </div>
                </div>

                <div class="row align-items-center">
                    <div class="col-sm">
                        <!-- <apx-chart dir="ltr" class="apex-charts" [series]="walletOverview.series" [chart]="walletOverview.chart" [legend]="walletOverview.legend" [colors]="walletOverview.colors" [labels]="walletOverview.labels" [stroke]="walletOverview.stroke" [plotOptions]="walletOverview.plotOptions">
                        </apx-chart> -->
                    </div>
                    <div class="col-sm align-self-center">
                        <!-- <div class="mt-4 mt-sm-0">
                            <div>
                                <p class="mb-2"><i class="mdi mdi-circle align-middle font-size-10 me-2 text-success"></i> Bitcoin
                                </p>
                                <h6>0.4412 BTC = <span class="text-muted font-size-14 fw-normal">$ 4025.32</span></h6>
                            </div>

                            <div class="mt-4 pt-2">
                                <p class="mb-2"><i class="mdi mdi-circle align-middle font-size-10 me-2 text-primary"></i> Ethereum
                                </p>
                                <h6>4.5701 ETH = <span class="text-muted font-size-14 fw-normal">$ 1123.64</span></h6>
                            </div>

                            <div class="mt-4 pt-2">
                                <p class="mb-2"><i class="mdi mdi-circle align-middle font-size-10 me-2 text-info"></i>
                                    Litecoin</p>
                                <h6>35.3811 LTC = <span class="text-muted font-size-14 fw-normal">$ 2263.09</span></h6>
                            </div>
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
        <!-- end card -->
    </div>
    <!-- end col -->
    <div class="col-xl-7">
        <div class="row">
            <div class="col-xl-8">
                <!-- card -->
                <div class="card card-h-100">
                    <!-- card body -->
                    <div class="card-body">
                        <div class="d-flex flex-wrap align-items-center mb-4">
                            <h5 class="card-title me-2">Invested Overview</h5>
                            <div class="ms-auto">
                                <select class="form-select form-select-sm">
                                    <option value="MAY" selected="">May</option>
                                    <option value="AP">April</option>
                                    <option value="MA">March</option>
                                    <option value="FE">February</option>
                                    <option value="JA">January</option>
                                    <option value="DE">December</option>
                                </select>
                            </div>
                        </div>

                        <div class="row align-items-center">
                            <div class="col-sm">
                                <!-- <apx-chart dir="ltr" class="apex-charts" [series]="investedOverview.series" [chart]="investedOverview.chart" [legend]="investedOverview.legend" [colors]="investedOverview.colors" [labels]="investedOverview.labels" [stroke]="investedOverview.stroke" [plotOptions]="investedOverview.plotOptions" [fill]="investedOverview.fill">
                                </apx-chart> -->
                            </div>
                            <!-- <div class="col-sm align-self-center">
                                <div class="mt-4 mt-sm-0">
                                    <p class="mb-1">Invested Amount</p>
                                    <h4>$ 6134.39</h4>

                                    <p class="text-muted mb-4"> + 0.0012.23 ( 0.2 % ) <i class="mdi mdi-arrow-up ms-1 text-success"></i></p>

                                    <div class="row g-0">
                                        <div class="col-6">
                                            <div>
                                                <p class="mb-2 text-muted text-uppercase font-size-11">Income</p>
                                                <h5 class="fw-medium">$ 2632.46</h5>
                                            </div>
                                        </div>
                                        <div class="col-6">
                                            <div>
                                                <p class="mb-2 text-muted text-uppercase font-size-11">Expenses</p>
                                                <h5 class="fw-medium">-$ 924.38</h5>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mt-2">
                                        <a href="javascript:void(0);" class="btn btn-primary btn-sm">View more <i class="mdi mdi-arrow-right ms-1"></i></a>
                                    </div>
                                </div>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- end col -->

            <div class="col-xl-4">
                <!-- card -->
                <div class="card bg-primary text-white shadow-primary card-h-100">
                    <!-- card body -->
                    <div class="card-body p-0">
                        <div id="carouselExampleCaptions" class="carousel slide text-center widget-carousel" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                <!-- Carousel with caption -->
                        
                                <!-- End carousel -->
                            </div>
                            <!-- end carousel-inner -->
                        </div>
                        <!-- end carousel -->
                    </div>
                    <!-- end card body -->
                </div>
                <!-- end card -->
            </div>
            <!-- end col -->
        </div>
        <!-- end row -->
    </div>
    <!-- end col -->
</div>

<div class="row">
    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">
                <div class="d-flex flex-wrap align-items-center mb-4">
                    <h5 class="card-title me-2">
                        Trials
                    </h5>
                    <div class="ms-auto">
                        <div>

                        </div>
                    </div>
                </div>

                <div class="row align-items-center">
                    <div class="col-xl-12">
                        <div>
                            <!-- <apx-chart dir="ltr" class="apex-charts" [chart]="marketOverview.chart" [series]="marketOverview.series" [legend]="marketOverview.legend" [stroke]="marketOverview.stroke" [colors]="marketOverview.colors" [fill]="marketOverview.fill" [dataLabels]="marketOverview.dataLabels" [xaxis]="marketOverview.xaxis" [markers]="marketOverview.markers" [plotOptions]="marketOverview.plotOptions" [yaxis]="marketOverview.yaxis" [tooltip]="marketOverview.tooltip" [grid]="marketOverview.grid" [labels]="marketOverview.labels">
                            </apx-chart> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="col-xl-6">
        <div class="card">
            <div class="card-body">
                <div class="d-flex flex-wrap align-items-center mb-4">
                    <h5 class="card-title me-2">
                        Trials
                    </h5>
                    <div class="ms-auto">
                        <div>

                        </div>
                    </div>
                </div>

                <div class="row align-items-center">
                    <div class="col-xl-12">
                        <div>
                            <!-- <apx-chart dir="ltr" class="apex-charts" [chart]="marketOverview.chart" [series]="marketOverview.series" [legend]="marketOverview.legend" [stroke]="marketOverview.stroke" [colors]="marketOverview.colors" [fill]="marketOverview.fill" [dataLabels]="marketOverview.dataLabels" [xaxis]="marketOverview.xaxis" [markers]="marketOverview.markers" [plotOptions]="marketOverview.plotOptions" [yaxis]="marketOverview.yaxis" [tooltip]="marketOverview.tooltip" [grid]="marketOverview.grid" [labels]="marketOverview.labels">
                            </apx-chart> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div>
    <div class="card">
        <div class="card-body">
            <h5 class="card-title me-2">
                Farmer Trainings
            </h5>
        </div>

        <div class="row align-items-center">
            <apx-chart
            [series]="trainingChart.series"
            [chart]="trainingChart.chart"
            [legend]="trainingChart.legend"
            [xaxis]="trainingChart.xaxis"
            [yaxis]="trainingChart.yaxis"
            [grid]="trainingChart.grid"
            [stroke]="trainingChart.stroke"
            [tooltip]="trainingChart.tooltip"
            [plotOptions]="trainingChart.plotOptions"
            [colors]="trainingChart.fill.colors"
            ></apx-chart>
        </div>
    </div>
</div>